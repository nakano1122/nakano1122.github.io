---
import { parsePersonalInfo } from '../../utils/data-extractors';

export interface Props {
	content: string;
}

const { content } = Astro.props;
const personalData = parsePersonalInfo(content);
---

<section class="personal-info-card">
	<h2 class="card-title">個人情報</h2>
	<div class="personal-info">
		<div class="info-item">
			<span class="info-label">氏名:</span>
			<span class="info-value">{personalData.name}</span>
		</div>
		<div class="info-item">
			<span class="info-label">所属:</span>
			<span class="info-value">{personalData.affiliation}</span>
		</div>
		<div class="info-item">
			<span class="info-label">学年:</span>
			<span class="info-value">{personalData.grade}</span>
		</div>
		<div class="info-item">
			<span class="info-label">GitHub:</span>
			<a href={`https://github.com/${personalData.github}`} class="info-link" target="_blank" rel="noopener noreferrer">@{personalData.github}</a>
		</div>
		<div class="info-item">
			<span class="info-label">AtCoder:</span>
			<a href={`https://atcoder.jp/users/${personalData.atcoder}`} class="info-link" target="_blank" rel="noopener noreferrer">@{personalData.atcoder}</a>
		</div>
		<div class="info-item">
			<span class="info-label">TOEIC:</span>
			<span class="info-value">{personalData.toeic}点</span>
		</div>
	</div>
</section>

<style>
	.personal-info-card {
		background: var(--color-bg-card);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-lg);
		padding: var(--spacing-xl);
		box-shadow: var(--shadow-sm);
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		position: relative;
		overflow: hidden;
	}

	.personal-info-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 1px;
		background: var(--gradient-primary);
		opacity: 0.6;
	}

	.personal-info-card:hover {
		transform: translateY(-4px) scale(1.02);
		box-shadow: var(--shadow-dark-lg), var(--shadow-glow);
		border-color: var(--color-primary-solid);
	}

	.card-title {
		font-size: 1.125rem;
		font-weight: 600;
		color: var(--color-text);
		margin-bottom: var(--spacing-lg);
		position: relative;
		padding-left: var(--spacing-md);
	}

	.card-title::before {
		content: '';
		position: absolute;
		left: 0;
		top: 50%;
		transform: translateY(-50%);
		width: 3px;
		height: 16px;
		background: var(--color-primary);
		border-radius: 2px;
	}

	.personal-info {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-md);
	}

	.info-item {
		display: flex;
		align-items: center;
		gap: var(--spacing-sm);
		padding: var(--spacing-sm);
		border-radius: var(--radius-md);
	}

	.info-label {
		font-weight: 500;
		color: var(--color-text);
		min-width: 80px;
	}

	.info-link {
		color: var(--color-primary);
		text-decoration: none;
		transition: color 0.2s ease;
		text-decoration: underline;
		text-underline-offset: 3px;
	}

	.info-link:hover {
		color: var(--color-primary-dark);
	}

	.info-value {
		color: var(--color-text-light);
	}
</style>
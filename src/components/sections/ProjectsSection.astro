---
/**
 * プロジェクトセクションコンポーネント
 */
import type { ParsedProject } from '../../utils/markdownParser';
import SectionHeader from '../ui/SectionHeader.astro';
import ExternalLink from '../ui/ExternalLink.astro';

export interface Props {
	projects: ParsedProject[];
}

const { projects } = Astro.props;
---

{projects.length > 0 && (
	<section class="section" id="projects">
		<SectionHeader title="Projects" />
		<div class="projects-list">
			{projects.map((project, index) => (
				<article class="project-card" style={`animation-delay: ${index * 100}ms`}>
					<h3 class="project-title">{project.title}</h3>
					<p class="project-description">{project.description}</p>
					{project.siteUrl && (
						<a href={project.siteUrl} target="_blank" rel="noopener noreferrer" class="project-link">
							View Project
							<ExternalLink size="sm" />
						</a>
					)}
				</article>
			))}
		</div>
	</section>
)}

<style>
	.section {
		border-top: 1px solid var(--color-border);
	}

	.projects-list {
		display: grid;
		gap: var(--space-xl);
	}

	.project-card {
		padding: var(--space-2xl);
		background: var(--color-bg-card);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-lg);
		animation: fadeInUp 0.6s ease-out backwards;
		transition: all var(--transition-base);
		box-shadow: var(--shadow-sm);
	}

	.project-card:hover {
		border-color: var(--color-border-hover);
		transform: translateY(-3px);
		box-shadow: var(--shadow-md);
	}

	.project-title {
		font-size: 1.4rem;
		font-weight: 600;
		margin-bottom: var(--space-md);
		color: var(--color-text);
	}

	.project-description {
		font-size: 1.05rem;
		color: var(--color-text-secondary);
		line-height: 1.8;
		margin-bottom: var(--space-xl);
	}

	.project-link {
		display: inline-flex;
		align-items: center;
		gap: var(--space-sm);
		padding: var(--space-md) var(--space-lg);
		background: var(--color-accent-soft);
		color: var(--color-accent);
		font-size: 1rem;
		font-weight: 600;
		border-radius: var(--radius-md);
		transition: all var(--transition-base);
	}

	.project-link:hover {
		background: var(--color-accent);
		color: white;
	}

	.project-link:hover :global(.external-icon-sm) {
		opacity: 1;
	}

	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>

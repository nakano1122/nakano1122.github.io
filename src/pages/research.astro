---
import Layout from '../layouts/Layout.astro';
import PageContainer from '../components/layout/PageContainer.astro';
import { loadResearchHistory } from '../functions/dataLoader';

const researchHistory = await loadResearchHistory();
---

<Layout title="研究内容 - 中野暁登 Portfolio">
	<PageContainer title="研究内容" maxWidth="1200px">
			{researchHistory.researchContent && (
				<section class="section">
					<h2 class="section-title">研究概要</h2>
					<div class="research-overview">
						<p>{researchHistory.researchContent}</p>
					</div>
				</section>
			)}

			<section class="section">
				<h2 class="section-title">発表済み論文</h2>
				<div class="papers-list">
					{researchHistory.papers.map((paper) => (
						<article class="paper-card">
							<h3 class="paper-title">{paper.title}</h3>
							{paper.authors && (
								<p class="paper-authors">{paper.authors}</p>
							)}
							<p class="paper-conference">{paper.conference}</p>
							{paper.note && (
								<p class="paper-note">{paper.note}</p>
							)}
						</article>
					))}
				</div>
		</section>
	</PageContainer>
</Layout>

<style>
	.section {
		margin-bottom: var(--spacing-5xl);
	}

	.section-title {
		font-size: var(--font-size-2xl);
		font-weight: var(--font-weight-bold);
		color: var(--color-text);
		margin-bottom: var(--spacing-xl);
		border-left: 4px solid var(--color-secondary-solid);
		padding-left: var(--spacing-md);
	}

	.research-overview p {
		font-size: var(--font-size-lg);
		line-height: var(--line-height-relaxed);
		color: var(--color-text-light);
		background: var(--color-bg-card);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-lg);
		padding: var(--spacing-xl);
	}

	.papers-list {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-xl);
	}

	.paper-card {
		background: var(--color-bg-card);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-lg);
		padding: var(--spacing-xl);
		transition: all 0.3s ease;
	}

	.paper-card:hover {
		transform: translateY(-2px);
		border-color: var(--color-secondary-solid);
		box-shadow: var(--shadow-lg);
	}

	.paper-title {
		font-size: var(--font-size-lg);
		font-weight: var(--font-weight-bold);
		color: var(--color-text);
		margin-bottom: var(--spacing-sm);
		line-height: var(--line-height-snug);
	}

	.paper-authors {
		font-size: var(--font-size-sm);
		color: var(--color-text-light);
		margin-bottom: var(--spacing-sm);
		line-height: var(--line-height-relaxed);
	}

	.paper-conference {
		font-size: var(--font-size-sm);
		color: var(--color-text-accent);
		font-weight: var(--font-weight-medium);
		margin-bottom: var(--spacing-md);
	}

	.paper-note {
		font-size: var(--font-size-sm);
		line-height: var(--line-height-relaxed);
		color: var(--color-text-light);
		border-left: 3px solid var(--color-secondary-solid);
		padding-left: var(--spacing-md);
		font-style: italic;
	}

</style>
